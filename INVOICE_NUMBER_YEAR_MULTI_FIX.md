# โ ุฅุตูุงุญ: ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู ุงูุชุงุฑูุฎ ูู Multi

## ุงููุดููุฉ
ุนูุฏ ุฅูุดุงุก ูุงุชูุฑุฉ ูู Multi ูุชุญุฏูุฏ ุชุงุฑูุฎ (ูุซูุงู 2024)ุ ุงูุฑูู ุงูุชุณูุณูู ูุฃุฎุฐ ุงูุณูุฉ ุงูุญุงููุฉ (2025) ุจุฏูุงู ูู ุงูุณูุฉ ุงููุฎุชุงุฑุฉ ูู ุญูู ุงูุชุงุฑูุฎ.

**ูุซุงู:**
- ุงุฎุชูุงุฑ ุชุงุฑูุฎ: 15/01/2024
- ุฅุฏุฎุงู ุฑูู: 2000
- ุงููุชูุฌุฉ ุงููุชููุนุฉ: MTT20002024
- ุงููุชูุฌุฉ ุงููุนููุฉ (ูุจู ุงูุฅุตูุงุญ): MTT20002025

## ุงูุณุจุจ
ุงูุฏุงูุฉ `formatInvoiceNumberMulti` ูุงูุช ุชุณุชุฎุฏู `new Date().getFullYear()` (ุงูุณูุฉ ุงูุญุงููุฉ) ุจุฏูุงู ูู ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู ุงูุชุงุฑูุฎ ุงููุฎุชุงุฑ.

## ุงูุญู
โ ุชู ุชุนุฏูู ุงูุฏุงูุฉ ูุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู `documentDateMulti` ุจุฏูุงู ูู ุงูุณูุฉ ุงูุญุงููุฉ.

---

## ๐ง ุงูุชุบููุฑุงุช ุงูููุฌุฒุฉ

### create_invoice_multi_helpers.js โ
**ุงูุฏุงูุฉ:** `formatInvoiceNumberMulti`
- โ ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู `document.getElementById('documentDateMulti')`
- โ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ: ุงูุณูุฉ ุงูุญุงููุฉ ุฅุฐุง ูู ูุชู ุงุฎุชูุงุฑ ุชุงุฑูุฎ
- โ console logs ููุชุชุจุน

**ุงููููุน:** ุงูุณุทุฑ 153-184

---

## ๐ ุงูููุฏ ุงูุฌุฏูุฏ

```javascript
// Format invoice number on blur - add MTT prefix and year suffix
window.formatInvoiceNumberMulti = function(input) {
    let value = input.value.trim();
    
    // Check if already formatted
    if (value.startsWith('MTT') && value.length > 7) {
        return; // Already formatted, don't format again
    }
    
    // Remove any non-numeric characters
    value = value.replace(/\D/g, '');
    
    if (value) {
        // ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู ุงูุชุงุฑูุฎ ุจุฏูุงู ูู ุงูุณูุฉ ุงูุญุงููุฉ
        const dateInput = document.getElementById('documentDateMulti');
        let year = new Date().getFullYear(); // ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ
        
        if (dateInput && dateInput.value) {
            // ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุงูุชุงุฑูุฎ ุงููุฎุชุงุฑ (YYYY-MM-DD)
            const selectedDate = new Date(dateInput.value);
            year = selectedDate.getFullYear();
            console.log('๐ [AUTO FORMAT MULTI] Using year from date field:', year);
        } else {
            console.log('๐ [AUTO FORMAT MULTI] Using current year:', year);
        }
        
        // Format: MTT + numbers + year
        input.value = `MTT${value}${year}`;
        input.style.color = '#4caf50';
        input.style.fontWeight = '600';
    }
}
```

---

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

### ูุจู ุงูุฅุตูุงุญ:
```
ุงุฎุชูุงุฑ ุชุงุฑูุฎ: 15/01/2024
ุฅุฏุฎุงู ุฑูู: 2000
ุงูุฎุฑูุฌ ูู ุงูุญูู (onblur)
ุงููุชูุฌุฉ: MTT20002025 โ (ุฎุทุฃ)
```

### ุจุนุฏ ุงูุฅุตูุงุญ:
```
ุงุฎุชูุงุฑ ุชุงุฑูุฎ: 15/01/2024
ุฅุฏุฎุงู ุฑูู: 2000
ุงูุฎุฑูุฌ ูู ุงูุญูู (onblur)
ุงููุชูุฌุฉ: MTT20002024 โ (ุตุญูุญ)
```

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

1. **create_invoice_multi_helpers.js**
   - ุงูุณุทุฑ 153-184: ุฏุงูุฉ `formatInvoiceNumberMulti`

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู** ูุชุญููู ุงููููุงุช ุงูุฌุฏูุฏุฉ
2. **ุงุฎุชุจุฑ ุงูุฅูุดุงุก ูู Multi:**
   - ุงุฎุชุฑ ุชุงุฑูุฎ ูู ุณูุฉ ูุฎุชููุฉ (ูุซูุงู 2024)
   - ุฃุฏุฎู ุฑูู ูุงุชูุฑุฉ (ูุซูุงู 2000)
   - ุงุฎุฑุฌ ูู ุงูุญูู (onblur)
   - ุชุญูู ูู ุฃู ุงูุณูุฉ ุชุทุงุจู ุงูุณูุฉ ุงููุฎุชุงุฑุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ูุนูู ุงูุฅุตูุงุญ:
1. ุชุญูู ูู console logs (F12 โ Console)
   - ุงุจุญุซ ุนู: `๐ [AUTO FORMAT MULTI]`
2. ุชุฃูุฏ ูู ุฃู ุญูู ุงูุชุงุฑูุฎ ูู ID `documentDateMulti`
3. ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู ุจุงููุงูู

---

## โจ ููุงุญุธุงุช ุฅุถุงููุฉ

- ุงูุฅุตูุงุญ ูู Multi ููุท
- Chaimae ู MRY ูุฏูููุง ููุณ ุงูุฅุตูุงุญ ุจุงููุนู
- ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุงูุณูุฉ ุงูุญุงููุฉ ุฅุฐุง ูู ูุชู ุงุฎุชูุงุฑ ุชุงุฑูุฎ
- console logs ุชุณุงุนุฏ ูู ุงูุชุตุญูุญ ูุงูุชุชุจุน

---

## ๐ ููุฎุต ุงูุญุงูุฉ

```
โ Chaimae: ููุชููุฉ 100%
โ MRY: ููุชููุฉ 100%
โ Multi: ููุชููุฉ 100%

๐ ุฌููุน ุงูุดุฑูุงุช ุงูุซูุงุซ ุฌุงูุฒุฉ!
```

**ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู ุงูุขู!** ๐
