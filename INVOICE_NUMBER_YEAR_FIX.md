# โ ุฅุตูุงุญ: ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู ุงูุชุงุฑูุฎ ุนูุฏ ุฅูุดุงุก ุงููุงุชูุฑุฉ

## ุงููุดููุฉ
ุนูุฏ ุฅูุดุงุก ูุงุชูุฑุฉ ูุชุญุฏูุฏ ุชุงุฑูุฎ (ูุซูุงู 2024)ุ ุงูุฑูู ุงูุชุณูุณูู ูุฃุฎุฐ ุงูุณูุฉ ุงูุญุงููุฉ (2025) ุจุฏูุงู ูู ุงูุณูุฉ ุงููุฎุชุงุฑุฉ ูู ุญูู ุงูุชุงุฑูุฎ.

**ูุซุงู:**
- ุงุฎุชูุงุฑ ุชุงุฑูุฎ: 15/01/2024
- ุฅุฏุฎุงู ุฑูู: 500
- ุงููุชูุฌุฉ ุงููุชููุนุฉ: 500/2024
- ุงููุชูุฌุฉ ุงููุนููุฉ (ูุจู ุงูุฅุตูุงุญ): 500/2025

## ุงูุณุจุจ
ุงูุฏุงูุฉ `autoFormatDocumentNumberOnBlur` ูุงูุช ุชุณุชุฎุฏู `new Date().getFullYear()` (ุงูุณูุฉ ุงูุญุงููุฉ) ุจุฏูุงู ูู ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู ุงูุชุงุฑูุฎ ุงููุฎุชุงุฑ.

## ุงูุญู
โ ุชู ุชุนุฏูู ุงูุฏุงูุฉ ูุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู `documentDate` ุจุฏูุงู ูู ุงูุณูุฉ ุงูุญุงููุฉ.

---

## ๐ง ุงูุชุบููุฑุงุช ุงูููุฌุฒุฉ

### 1. create_invoice_chaimae.js โ
**ุงูุฏุงูุฉ:** `autoFormatDocumentNumberOnBlurChaimae`
- โ ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู `document.getElementById('documentDate')`
- โ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ: ุงูุณูุฉ ุงูุญุงููุฉ ุฅุฐุง ูู ูุชู ุงุฎุชูุงุฑ ุชุงุฑูุฎ
- โ console logs ููุชุชุจุน

### 2. create_invoice_mry.js โ
**ุงูุฏุงูุฉ:** `autoFormatDocumentNumberOnBlur`
- โ ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู `document.getElementById('documentDate')`
- โ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ: ุงูุณูุฉ ุงูุญุงููุฉ ุฅุฐุง ูู ูุชู ุงุฎุชูุงุฑ ุชุงุฑูุฎ
- โ console logs ููุชุชุจุน

### 3. create_invoice_multi.js โณ
- โณ ูุง ูุณุชุฎุฏู ููุณ ุงูุทุฑููุฉ (ูุญุชุงุฌ ุฅูู ูุญุต ุฅุถุงูู)

---

## ๐ ุงูููุฏ ุงูุฌุฏูุฏ

```javascript
// Auto-format document number on blur
window.autoFormatDocumentNumberOnBlurChaimae = function(input) {
    let value = input.value.trim();
    
    if (!value) return;
    if (value.includes('/')) return;
    
    let numbers = value.replace(/[^0-9]/g, '');
    
    if (numbers) {
        // ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุญูู ุงูุชุงุฑูุฎ ุจุฏูุงู ูู ุงูุณูุฉ ุงูุญุงููุฉ
        const dateInput = document.getElementById('documentDate');
        let year = new Date().getFullYear(); // ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ
        
        if (dateInput && dateInput.value) {
            // ุงุณุชุฎุฑุงุฌ ุงูุณูุฉ ูู ุงูุชุงุฑูุฎ ุงููุฎุชุงุฑ (YYYY-MM-DD)
            const selectedDate = new Date(dateInput.value);
            year = selectedDate.getFullYear();
            console.log('๐ [AUTO FORMAT] Using year from date field:', year);
        } else {
            console.log('๐ [AUTO FORMAT] Using current year:', year);
        }
        
        input.value = `${numbers}/${year}`;
    }
}
```

---

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

### ูุจู ุงูุฅุตูุงุญ:
```
ุงุฎุชูุงุฑ ุชุงุฑูุฎ: 15/01/2024
ุฅุฏุฎุงู ุฑูู: 500
ุงูุฎุฑูุฌ ูู ุงูุญูู (onblur)
ุงููุชูุฌุฉ: 500/2025 โ (ุฎุทุฃ)
```

### ุจุนุฏ ุงูุฅุตูุงุญ:
```
ุงุฎุชูุงุฑ ุชุงุฑูุฎ: 15/01/2024
ุฅุฏุฎุงู ุฑูู: 500
ุงูุฎุฑูุฌ ูู ุงูุญูู (onblur)
ุงููุชูุฌุฉ: 500/2024 โ (ุตุญูุญ)
```

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

1. **create_invoice_chaimae.js**
   - ุงูุณุทุฑ 519-548: ุฏุงูุฉ `autoFormatDocumentNumberOnBlurChaimae`

2. **create_invoice_mry.js**
   - ุงูุณุทุฑ 369-398: ุฏุงูุฉ `autoFormatDocumentNumberOnBlur`

3. **create_invoice_multi.js**
   - โณ ุจุงูุชุธุงุฑ ุงููุญุต

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู** ูุชุญููู ุงููููุงุช ุงูุฌุฏูุฏุฉ
2. **ุงุฎุชุจุฑ ุงูุฅูุดุงุก:**
   - ุงุฎุชุฑ ุชุงุฑูุฎ ูู ุณูุฉ ูุฎุชููุฉ (ูุซูุงู 2024)
   - ุฃุฏุฎู ุฑูู ูุงุชูุฑุฉ
   - ุงุฎุฑุฌ ูู ุงูุญูู (onblur)
   - ุชุญูู ูู ุฃู ุงูุณูุฉ ุชุทุงุจู ุงูุณูุฉ ุงููุฎุชุงุฑุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ูุนูู ุงูุฅุตูุงุญ:
1. ุชุญูู ูู console logs (F12 โ Console)
   - ุงุจุญุซ ุนู: `๐ [AUTO FORMAT]`
2. ุชุฃูุฏ ูู ุฃู ุญูู ุงูุชุงุฑูุฎ ูู ID `documentDate`
3. ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู ุจุงููุงูู

---

## โจ ููุงุญุธุงุช ุฅุถุงููุฉ

- ุงูุฅุตูุงุญ ูุนูู ุนูู Chaimae ู MRY
- Multi ูุฏ ูุญุชุงุฌ ุฅูู ูุญุต ุฅุถุงูู
- ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุงูุณูุฉ ุงูุญุงููุฉ ุฅุฐุง ูู ูุชู ุงุฎุชูุงุฑ ุชุงุฑูุฎ
- console logs ุชุณุงุนุฏ ูู ุงูุชุตุญูุญ ูุงูุชุชุจุน
